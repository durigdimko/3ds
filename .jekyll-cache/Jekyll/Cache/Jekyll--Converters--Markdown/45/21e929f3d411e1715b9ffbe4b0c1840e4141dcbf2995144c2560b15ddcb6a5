I"O
<aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title"><i class="fa fa-file-text"></i> Разделы</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#последняя-версия-luma3ds-1012" id="markdown-toc-последняя-версия-luma3ds-1012">Последняя версия Luma3DS: 10.1.2</a></li>
  <li><a href="#что-понадобится" id="markdown-toc-что-понадобится">Что понадобится</a></li>
  <li><a href="#определение-типа-и-версии-взлома" id="markdown-toc-определение-типа-и-версии-взлома">Определение типа и версии взлома</a></li>
  <li><a href="#часть-i---обновление-luma3ds-и-приложений" id="markdown-toc-часть-i---обновление-luma3ds-и-приложений">Часть I - Обновление Luma3DS и приложений</a></li>
  <li><a href="#часть-ii---настройка-luma3ds" id="markdown-toc-часть-ii---настройка-luma3ds">Часть II - Настройка Luma3DS</a></li>
  <li><a href="#часть-iii---ctrnand-luma3ds-и-очистка-sd-карты" id="markdown-toc-часть-iii---ctrnand-luma3ds-и-очистка-sd-карты">Часть III - CTRNAND Luma3DS и очистка SD-карты</a></li>
  <li><a href="#часть-iv---обновление-системы" id="markdown-toc-часть-iv---обновление-системы">Часть IV - Обновление системы</a></li>
</ul>

  </nav>
</aside>

<hr />

<div class="notice">Если вам помогло или просто понравилось это руководство, то мы принимаем <a href="http://customfw.xyz/donations" target="_blank">пожертвования</a>.</div>

<div class="notice">По вопросам, касающимся взлома и руководства, обращайтесь <a href="http://customfw.xyz/contacts" target="_blank">сюда</a>.</div>

<div class="notice--warning">Для использования <a href="https://en.wikipedia.org/wiki/Magnet_URI_scheme" target="_blank">magnet</a>-ссылок в этом руководстве необходим torrent-клиент, например <a href="http://dev.deluge-torrent.org/wiki/Download" target="_blank">Deluge</a><hr />Для работы с файлами формата <code class="highlighter-rouge">.7z</code>, <code class="highlighter-rouge">.zip</code>, <code class="highlighter-rouge">.rar</code> используйте архиватор, например <a href="http://www.7-zip.org/" target="_blank">7-Zip</a>.<hr />Соглашайтесь на замену файлов по запросу, если не указано иное. Если в гайде сказано что-то скопировать в папку, но на вашей SD-карте такой папки нет - создайте её!<hr />Все манипуляции в руководстве производятся с картой память консоли, если не сказано иное!</div>

<hr />

<h2 id="последняя-версия-luma3ds-1012">Последняя версия Luma3DS: 10.1.2</h2>

<h2 id="что-понадобится">Что понадобится</h2>

<ul>
  <li>Установленный и рабочий <a href="updating-b9s" target="_blank">b9s</a> последней версии (<em>если уже делали, то повторно делать не нужно</em>)</li>
  <li>Установленный и рабочий <a href="fbi" target="_blank">FBI</a></li>
  <li>Свежая версия <a href="https://github.com/AuroraWright/Luma3DS/releases/latest" target="_blank">Luma3DS</a> (<code class="language-plaintext highlighter-rouge">7z</code>-архив)</li>
  <li>Свежая версия <a href="https://github.com/d0k3/GodMode9/releases/latest" target="_blank">GodMode9</a></li>
  <li><a href="http://localhost:4000/gm9_scripts/cleanmaster.gm9" target="_blank"><code class="language-plaintext highlighter-rouge">cleanmaster.gm9</code></a></li>
</ul>

<h2 id="определение-типа-и-версии-взлома">Определение типа и версии взлома</h2>

<p>Определить какая версия взлома стоит на вашей приставке достаточно просто:</p>

<ol>
  <li>Выключите приставку</li>
  <li>Зажмите кнопку <img src="/images/buttons/SELECT.png" alt="(SELECT)" /> и, удерживая её, включите консоль</li>
  <li>
    <p>Запустится меню конфигурации Luma3DS</p>

    <p class="text-center notice--info"><img src="/images/screenshots/luma.png" alt="" target="_blank" /></p>
  </li>
  <li>Обратите внимание на версию Luma3DS и перейдите по ссылке, соответствующей вашей версии:
    <ul>
      <li>Если Luma3DS меньше, или равна 7.0.5, то у вас a9lh - <a href="a9lh-to-b9s" target="_blank">перейдите на b9s актуальной версии</a></li>
      <li>Если Luma3DS 7.1, то у вас b9s 1.0 и нужно <a href="updating-b9s" target="_blank">обновить его до актуальной версии</a></li>
      <li>Если Luma3DS 8 и выше, то b9s 1.2 или выше - обновите Luma3DS по инструкции ниже</li>
    </ul>
  </li>
</ol>

<p class="notice--warning">Если вы обновили Luma3DS через Luma3DS Updater и теперь приставка не включается. Загорается синий диод и тухнет, обратитесь к <a href="troubleshooting#3ds-не-включается-после-обновления-через-luma3ds-updater---загорается-синий-диод-и-тухнет" target="_blank">этой части руководства</a>.</p>

<h2 id="часть-i---обновление-luma3ds-и-приложений">Часть I - Обновление Luma3DS и приложений</h2>

<ol>
  <li>Выключите консоль</li>
  <li>Вставьте SD-карту в компьютер</li>
  <li>Создайте папку <code class="language-plaintext highlighter-rouge">cias</code> в корне SD-карты</li>
  <li>Скопируйте файл <code class="language-plaintext highlighter-rouge">boot.firm</code> из <code class="language-plaintext highlighter-rouge">.7z-архива</code> <a href="https://github.com/AuroraWright/Luma3DS/releases/latest" target="_blank">Luma3DS</a> (<code class="language-plaintext highlighter-rouge">7z</code>-архив) в корень SD-карты</li>
  <li>Скопируйте <code class="language-plaintext highlighter-rouge">GodMode9.firm</code> из <code class="language-plaintext highlighter-rouge">.zip-архива</code> GodMode9 в папку <code class="language-plaintext highlighter-rouge">/luma/payloads/</code> на SD-карте</li>
  <li>Скопируйте <code class="language-plaintext highlighter-rouge">cleanmaster.gm9</code> в папку <code class="language-plaintext highlighter-rouge">/gm9/scripts/</code> на SD-карте</li>
  <li>Верните SD-карту в приставку</li>
  <li>Включите консоль
    <ul>
      <li>Если после включения экран остаётся чёрным, то перейдите к разделу <a href="troubleshooting#черный-экран-при-загрузке-sysnand-после-установки-b9s" target="_blank">проблемы и их решения</a></li>
    </ul>
  </li>
</ol>

<h2 id="часть-ii---настройка-luma3ds">Часть II - Настройка Luma3DS</h2>

<ol>
  <li>Устройство загрузится в меню настройки Luma3DS
    <ul>
      <li>Если приставка загружается сразу в систему, то Luma3DS уже сконфигурирована и не нуждается в настройке. Чтобы попасть в меню настройки перезагрузите приставку, удерживая <img src="/images/buttons/SELECT.png" alt="(SELECT)" /></li>
      <li>Если при включении загорается голубой диод и тухнет, а экран остаётся черным, убедитесь, что на карте памяти есть <code class="language-plaintext highlighter-rouge">boot.firm</code> от Luma3DS. Если файл есть, но приставка все равно не грузится, скорее всего приставка не видит карту памяти. Возможно карта не работает, или отформатирована не правильно. Замените её, или <a href="clean_sd#ii-форматирование-sd-карты" target="_blank">отформатируйте по инструкции</a></li>
    </ul>
  </li>
  <li>Нажимая <img src="/images/buttons/A.png" alt="(A)" /> выберите следующие пункты:
    <ul>
      <li><strong>“Enable game patching”</strong> - включает возможность использовать патчи для приложений</li>
      <li><strong>“Show NAND or user string in System Settings”</strong> - показывает пользовательскую надпись в настройках на верхнем экране (конфигурируется через <code class="language-plaintext highlighter-rouge">/luma/customversion_sys.txt</code>)</li>
      <li><strong>Splash: Before</strong> - включает сплешскрин</li>
      <li>
        <p>Если эти пункты уже отмечены, значит Luma3DS уже сконфигурирована, просто двигайтесь дальше</p>

        <p class="text-center notice--info"><img src="/images/screenshots/luma-settings.png" alt="" target="_blank" /></p>
      </li>
    </ul>
  </li>
  <li>Нажмите <img src="/images/buttons/START.png" alt="(START)" />, чтобы сохранить настройки и перезагрузиться
    <ul>
      <li>Если после включения экран остаётся чёрным, то перейдите к разделу <a href="troubleshooting#%D1%87%D0%B5%D1%80%D0%BD%D1%8B%D0%B9-%D1%8D%D0%BA%D1%80%D0%B0%D0%BD-%D0%BF%D1%80%D0%B8-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B5-sysnand-%D0%BF%D0%BE%D1%81%D0%BB%D0%B5-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8-b9s" target="_blank">проблемы и их решения</a></li>
    </ul>
  </li>
</ol>

<h2 id="часть-iii---ctrnand-luma3ds-и-очистка-sd-карты">Часть III - CTRNAND Luma3DS и очистка SD-карты</h2>

<p class="notice--info">Обратите внимание, что если у вас имеются другие файлы помимо <code class="language-plaintext highlighter-rouge">GodMode9.firm</code> в папке <code class="language-plaintext highlighter-rouge">/luma/payloads/</code> на SD-карте, удержание кнопки <img src="/images/buttons/START.png" alt="(START)" /> при загрузке будет запускать “chainloader menu”, где вам нужно будет использовать D-Pad и кнопку <img src="/images/buttons/A.png" alt="(A)" /> для выбора “GodMode9” при выполнении этих инструкций.</p>

<p>Установка Luma3DS в CTRNAND нужна лишь для того, чтобы иметь возможность запускать приставку без SD-карты. Так же будет произведена чистка карты памяти от ненужных файлов.</p>

<ol>
  <li>Выключите консоль</li>
  <li>Запустите GodMode9, удерживая <img src="/images/buttons/START.png" alt="(START)" /> во время включения приставки</li>
  <li>Если вам предложат создать бэкап важных файлов, нажмите кнопку <img src="/images/buttons/A.png" alt="(A)" /> чтобы сделать это, затем нажмите <img src="/images/buttons/A.png" alt="(A)" /> чтобы продолжить после завершения</li>
  <li>Если вам предложат выставить RTC дату и время, нажмите кнопку <img src="/images/buttons/A.png" alt="(A)" /> чтобы сделать это, настройте дату и время, затем нажмите <img src="/images/buttons/A.png" alt="(A)" /> чтобы продолжить</li>
  <li>Нажмите <img src="/images/buttons/HOME.png" alt="(HOME)" />, чтобы попасть в меню действий</li>
  <li>Выберите “<strong>Scripts…</strong>”</li>
  <li>Выберите “<strong>cleanmaster</strong>”</li>
  <li>При появлении запроса, нажмите <img src="/images/buttons/A.png" alt="(A)" /> для продолжения</li>
  <li>Нажмите <img src="/images/buttons/A.png" alt="(A)" />, чтобы разрешить запись в SysNAND (lvl1) и введите указанную комбинацию кнопок</li>
  <li>Нажмите <img src="/images/buttons/A.png" alt="(A)" />, чтобы продолжить</li>
  <li>Нажмите <img src="/images/buttons/A.png" alt="(A)" /> чтобы восстановить запрет на запись</li>
</ol>

<p>После работы скрипта корень SD-карты будет выглядеть следующим образом:</p>

<p class="text-center"><img src="/images/screenshots/final-file-layout.png" alt="" target="_blank" /></p>

<p>Можете удалить лишние файлы вручную, если таковые остались</p>

<h2 id="часть-iv---обновление-системы">Часть IV - Обновление системы</h2>

<ol>
  <li>Обновите прошивку консоли, зайдя в <strong>Системные настройки</strong> (System Settings), затем “<strong>Прочие настройки</strong>” (Other Settings), затем листайте вправо до конца и выберите пункт “<strong>Обновление</strong>” (System Update)
    <ul>
      <li>Обновление не нужно делать, если вы уже делали его в процессе выполнения инструкции!</li>
      <li>Для обновления необходимо настроенное и рабочее интернет-подключение</li>
      <li>Обновление консоли с установленным B9S + Luma (именно то, что мы уже установили) безопасно</li>
      <li>При появлении ошибки, поставьте в настройках подключения, в настройках DNS “<strong>Получать DNS автоматически</strong>” в положение “<strong>Да</strong>”</li>
      <li>При появлении ошибки, убедитесь, что на приставке работает интернет. Попробуйте пересоздать подключение и перезагрузить роутер</li>
      <li>Если вы все ещё получаете ошибку, <a href="ctrtransfer" target="_blank">выполните CTRTransfer</a> и попробуйте обновиться ещё раз</li>
    </ul>
  </li>
</ol>

<hr />

<div class="notice--info">
<p>Luma3DS Updater - программа для обновления кастомной прошивки. Запустите его чтобы проверить наличие новой версии Luma3DS. Нажмите <img src="/images/buttons/A.png" alt="(A)" />+<img src="/images/buttons/X.png" alt="(X)" />, если таковая имеется и программа установит её в систему и в CTRNAND. Версия Luma3DS в CTRNAND нужна только для того, чтобы приставка могла загружаться без SD-карты.<br /><br />Обновление Luma 3DS - это не тоже самое что обновление системы (System Update). В данный момент у вас самая свежая версия Luma3DS и обновлять её не нужно.</p>
</div>

<div class="notice--info">
<p>По умолчанию будет запускаться Luma3DS CFW SysNAND, установленная на SD-карту.  <br />
Для запуска конфигуратора Luma3DS включите консоль с зажатой кнопкой <img src="/images/buttons/SELECT.png" alt="(SELECT)" />.  <br />
<br />
Для запуска Luma3DS chainloader удерживайте <img src="/images/buttons/START.png" alt="(START)" /> при загрузке системы (обратите внимание, что Luma3DS chainloader меню отображается только если существует более одного приложения).
<br /><br />
Нажатие <img src="/images/buttons/L.png" alt="(L)" /> + <img src="/images/buttons/DOWN.png" alt="(DOWN)" /> + <img src="/images/buttons/SELECT.png" alt="(SELECT)" /> в запущенной системе открывает меню Rosalina, встроенное в Luma3DS.</p>
</div>

<div class="notice--info">
<p>Если вы хотите заменить вашу SD-карту на более ёмкую, отформатируйте новую SD-карту в FAT32 и скопируйте на неё содержимое SD-карты приставки.</p>

<p>Если размер новой SD-карты превышает 32Гб, используйте для форматирования <a href="http://www.ridgecrop.demon.co.uk/index.htm?guiformat.htm">guiformat</a> для Windows, <a href="http://gparted.org/download.php">gparted</a> для Linux, или <a href="https://support.apple.com/en-gb/guide/disk-utility/format-a-disk-for-windows-computers-dskutl1010/mac">Disk Utility</a> для Mac.</p>
</div>

<p>Если вы использовали Steelminer, то можете удалять игру с эксплойтом</p>

<p class="notice--info">Для использования <a href="https://github.com/44670/BootNTR/" target="_blank">NTR CFW</a>, установите <a href="https://gbatemp.net/threads/432911/" target="_blank">BootNTR Selector</a>. Если вы не знаете что это, - не устанавливайте.</p>

<p class="notice--success">Чтобы узнать, как сменить регион своей консоли, обратитесь к разделу <a href="region-changing" target="_blank">Смена региона</a>.</p>

<p class="notice--success">Для получения информации по использованию различных функций GodMode9 обратитесь к разделу <a href="godmode9-usage" target="_blank">Использование GodMode9</a>.</p>

<p class="notice--success">Для справки об использовании различных функций Luma3DS обратитесь к её <a href="https://github.com/AuroraWright/Luma3DS/wiki/Options-and-usage" target="_blank">вики</a> (англ.).</p>

<p class="notice--success">Различные инструкции, не имеющие прямого отношения ко взлому, однако помогающие лучше изучить возможности 3DS на кастомной прошивке и эффективнее ей пользоваться находятся <a href="addons" target="_blank">здесь</a>.</p>
:ET