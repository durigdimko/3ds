I"Em
<aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title"><i class="fa fa-file-text"></i> Разделы</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#теоретическая-часть" id="markdown-toc-теоретическая-часть">Теоретическая часть</a></li>
  <li><a href="#установка-приложений" id="markdown-toc-установка-приложений">Установка приложений</a></li>
</ul>

  </nav>
</aside>

<hr />

<div class="notice">Если вам помогло или просто понравилось это руководство, то мы принимаем <a href="http://customfw.xyz/donations" target="_blank">пожертвования</a>.</div>

<div class="notice">По вопросам, касающимся взлома и руководства, обращайтесь <a href="http://customfw.xyz/contacts" target="_blank">сюда</a>.</div>

<div class="notice--warning">Для использования <a href="https://en.wikipedia.org/wiki/Magnet_URI_scheme" target="_blank">magnet</a>-ссылок в этом руководстве необходим torrent-клиент, например <a href="http://dev.deluge-torrent.org/wiki/Download" target="_blank">Deluge</a><hr />Для работы с файлами формата <code class="highlighter-rouge">.7z</code>, <code class="highlighter-rouge">.zip</code>, <code class="highlighter-rouge">.rar</code> используйте архиватор, например <a href="http://www.7-zip.org/" target="_blank">7-Zip</a>.<hr />Соглашайтесь на замену файлов по запросу, если не указано иное. Если в гайде сказано что-то скопировать в папку, но на вашей SD-карте такой папки нет - создайте её!<hr />Все манипуляции в руководстве производятся с картой память консоли, если не сказано иное!</div>

<hr />

<h2 id="теоретическая-часть">Теоретическая часть</h2>

<p>Установка игры - это перешифровка архива (cia) с игрой с помощью уникального для каждой консоли ключа (movable.sed) и запись его в определённом виде на карту памяти. В процессе установки помимо перешифровки создаются так же записи в базу данных консоли. Весь этот процесс происходит на самой приставке. Так как мощность приставки семейства 3DS не очень большая, а так же потому что в процессе установки происходит чтение с карты памяти и одновременно запись на неё, скорость установки редко превышает 3Мб\с. Что <strong>очень</strong> медленно. Гигабайтная игра будет устанавливаться примерно 10 минут на new 3DS XL, на old 3DS - около 15. Это значит, что для того, чтобы забить играми карту в 32Гб нам понадобится примерно 5 часов, которые уйдут на установку игр. Так же следует помнить, что установочные файлы игры, как правило, находятся на карте памяти и занимают место. То есть, чтобы установить игру размером в 4Гб, вам нужно скопировать её установщик на карту памяти и иметь еще 4Гб свободного места. Устанавливать, конечно, можно и по WiFi, что избавит от необходимости держать файл установки на карте памяти, однако, выигрыш в скорости если и будет, то очень скромный, поскольку перешифровка данных всё равно будет происходить силами системы. Метод, использующий силы консоли для перешифроки программы, мы назовём <strong>классическим</strong>.</p>

<p>Очевидное решение, позволяющее избавиться от недостатков классического метода - использовать ПК для перешифровки. С помощью специального ПО и ключа (movable.sed), извлечённого из прошитой консоли, мы заранее перешифровываем содержимое архива с игрой и просто копируем его в нужные папки на карте памяти приставки. И играем. Установка одного гигабайта занимает около 2х минут. То есть карту в 32Гб мы полностью забьём минут за 15. Причём, половину времени будет занимать копирование игры на карту памяти. На деле всё немного сложнее, но лишь на самую малость. Такой метод установки мы будем называть <strong>быстрым</strong>.</p>

<p>В данный момент установка быстрым методом не поддерживает установку DLC. Так же нет большого смысла использовать этот метод для установки игр размером менее 100Мб (они и так устанавливаются достаточно быстро).</p>

<details class="spoiler"><summary class="spoiler-title">Где брать игры?</summary><div class="spoiler-body">
<p>На приставку можно установить игры только в формате <code class="language-plaintext highlighter-rouge">.cia</code>. Игры в других фарматах нужно предварительно сконвертировать.</p>

<ol>
  <li><a href="https://drive.google.com/drive/folders/1FgyciKVc-k2ar8gS6oZjNKYAhmxwFg5R?usp=sharing" target="_blank">В нашем облаке</a></li>
  <li><a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vSSmcqtzUguH-tlJ2sr6_v5rTwnlZI1wlsjnyH3Zyy4VKo-TbkHFuW_m3FjpTc3ApQxAL13lOWY9gkm/pubhtml#" target="_blank">В хранилище AlVro</a></li>
  <li><a href="https://yadi.sk/d/_wdQkl2lZIha4g" target="_blank">В облаке на YD</a></li>
  <li><a href="http://www.3dscia.to/" target="_blank">3dscia</a></li>
  <li><a href="https://www.ziperto.com/nintendo/3ds-roms/3ds-cia/" target="_blank">ziperto.com</a></li>
  <li><a href="http://recoleccionjuegos3ds.blogspot.com" target="_blank">recoleccionjuegos3ds.blogspot.com</a></li>
  <li><a href="http://nintendo.moy.su/" target="_blank">nintendo.moy.su</a></li>
  <li><a href="godmode9-usage#%D0%BA%D0%BE%D0%BD%D0%B2%D0%B5%D1%80%D1%82%D0%B0%D1%86%D0%B8%D1%8F-%D0%B8%D0%B7-3ds-%D0%B2-cia" target="_blank">Конвертировать .3DS-ромы в .CIA</a></li>
</ol>

</div></details>

<h2 id="установка-приложений">Установка приложений</h2>

<details class="spoiler"><summary class="spoiler-title">Быстрый метод установки (только Windows)</summary><div class="spoiler-body">
<h3 id="что-понадобится">Что понадобится</h3>

<p class="notice--info">Если вы купили приставку у меня (в <a href="https://vk.com/nincfw" target="_blank">VK</a> или на <a href="https://shop.customfw.xyz" target="_blank">OLX</a>), то у вас уже b9s со всеми необходимыми программами. Ищите их в папке Система (System).</p>

<ul>
  <li>Установленный и рабочий <a href="updating-b9s" target="_blank">b9s</a> последней версии</li>
  <li>Установленная и рабочая свежая версия <a href="fbi" target="_blank">FBI</a></li>
  <li>Свежая версия <a href="https://github.com/ihaveamac/custom-install/releases/latest" target="_blank">custom-install-standalone</a></li>
  <li>Свежая версия <a href="https://github.com/ihaveamac/custom-install/releases/latest" target="_blank">custom-install-finalize.3dsx</a></li>
  <li><a href="files/custom-install-files.zip" target="_blank">custom-install-files</a></li>
</ul>

<h3 id="часть-i---подготовительные-работы">Часть I - Подготовительные работы</h3>

<p class="notice--info">Эту часть необходимо сделать всего раз, в дальнейшем установку начинайте со второй части</p>

<ol>
  <li>Запустите GodMode9, удерживая <img src="/images/buttons/START.png" alt="(START)" />  во время включения приставки
    <ul>
      <li>Обратите внимание, что если у вас имеются другие файлы помимо <code class="language-plaintext highlighter-rouge">GodMode9.firm</code> в папке <code class="language-plaintext highlighter-rouge">/luma/payloads/</code> на SD-карте, удержание кнопки <img src="/images/buttons/START.png" alt="(START)" /> при загрузке будет запускать “chainloader menu”, где вам нужно будет использовать D-Pad и кнопку <img src="/images/buttons/A.png" alt="(A)" /> для выбора “GodMode9” при выполнении этих инструкций.</li>
    </ul>
  </li>
  <li>Если вам предложат создать бэкап важных файлов, нажмите кнопку <img src="/images/buttons/A.png" alt="(A)" /> сделать это, затем нажмите <img src="/images/buttons/A.png" alt="(A)" /> чтобы продолжить после завершения</li>
  <li>Если вам предложат выставить RTC дату и время, нажмите <img src="/images/buttons/A.png" alt="(A)" /> чтобы сделать это, настройте дату и время, затем нажмите <img src="/images/buttons/A.png" alt="(A)" /> чтобы продолжить
    <ul>
      <li>Обратите внимание, что если вы выставили RTC дату и время, то время самой приставки собьется. Исправьте его позже вручную, или синхронизируйте с <a href="finalizing-setup#часть-iv---запуск-hbl">помощью приложения “<strong>ctr-no-timeoffset</strong>”</a></li>
    </ul>
  </li>
  <li>Перейдите в “<strong>[1:] SYSNAND CTRNAND</strong>” -&gt; “<strong>private</strong>”</li>
  <li>Поставьте курсор на <code class="language-plaintext highlighter-rouge">movable.sed</code> и нажмите <img src="/images/buttons/A.png" alt="(A)" /></li>
  <li>Выберите “<strong>Copy to 0:/gm9/out</strong>” и нажмите <img src="/images/buttons/A.png" alt="(A)" />. Нажмите <img src="/images/buttons/A.png" alt="(A)" /> ещё раз</li>
  <li>Зажмите <img src="/images/buttons/R.png" alt="(R)" /> и нажмите <img src="/images/buttons/START.png" alt="(START)" />, чтобы выключить приставку</li>
  <li>Вставьте в ПК SD-карту приставки</li>
  <li>Распакуйте <code class="language-plaintext highlighter-rouge">custom-install-standalone.zip</code> на ПК</li>
  <li>Поместите <code class="language-plaintext highlighter-rouge">custom-install-finalize.3dsx</code> в папку с распакованным <code class="language-plaintext highlighter-rouge">custom-install-standalone.zip</code></li>
  <li>Поместите содержимое архива <a href="files/custom-install-files.zip" target="_blank"><code class="language-plaintext highlighter-rouge">custom-install-files.zip</code></a> в папку с распакованным <code class="language-plaintext highlighter-rouge">custom-install-standalone.zip</code></li>
  <li>Переместите файл <code class="language-plaintext highlighter-rouge">movable.sed</code>, который находится на карте памяти приставки по адресу <code class="language-plaintext highlighter-rouge">/gm9/out</code> в папку с распакованным <code class="language-plaintext highlighter-rouge">custom-install-standalone.zip</code></li>
</ol>

<h3 id="часть-ii---конвертация-игр">Часть II - Конвертация игр</h3>

<ol>
  <li>Запустите <code class="language-plaintext highlighter-rouge">ci-gui.exe</code></li>
  <li>
    <p>Выберите <code class="language-plaintext highlighter-rouge">boot9.bin</code>, <code class="language-plaintext highlighter-rouge">seeddb.bin</code> и <code class="language-plaintext highlighter-rouge">movable.sed</code>, нажав на <strong>…</strong> напротив соответствующих полей</p>

    <p class="text-center notice--info"><img src="/images/ci/additionals.png" alt="" /></p>
  </li>
  <li>
    <p>Нажмите SD</p>
  </li>
  <li>Ждите окончания процесса. По завершению создается папка <code class="language-plaintext highlighter-rouge">id1</code> которая будет содержать все необходимые файлы для вашей консоли.</li>
  <li>Перейдите в папку <code class="language-plaintext highlighter-rouge">id1</code> и скопируйте её содержимое на SD карту консоли по пути <code class="language-plaintext highlighter-rouge">Nintendo 3DS/id0/id1/</code>. Если потребуется, согласитесь на замену
    <ul>
      <li>id0 и id1 - папки с длинным названием, состоящим из 16-ти символов</li>
    </ul>
  </li>
  <li>Вставить SD карту в консоль и запустить FBI. Перейдите по пути <code class="language-plaintext highlighter-rouge">SD:/Nintendo 3DS/id0/id1/</code></li>
  <li>Перейдите в папку <code class="language-plaintext highlighter-rouge">title</code>, установите курсор на <strong>&lt;current directory&gt;</strong>, выберите “<strong>Rename</strong>” и измените название папки на <code class="language-plaintext highlighter-rouge">title0</code>. Установите все <code class="language-plaintext highlighter-rouge">cia-</code>файлы, находящиеся в этой папке.</li>
  <li>После установки всех <code class="language-plaintext highlighter-rouge">cia</code> нажмите кнопку <img src="/images/buttons/X.png" alt="(X)" /> (Refresh). Появится папка <code class="language-plaintext highlighter-rouge">title</code>, перейдите в неё, установите курсор на <strong>&lt;current directory&gt;</strong>, выберите “<strong>Delete</strong>” и подтвердите удаление</li>
  <li>Перейдите в папку <code class="language-plaintext highlighter-rouge">title0</code>, установите курсор на <strong>&lt;current directory&gt;</strong>, выберите “<strong>Rename</strong>” и измените название папки на <code class="language-plaintext highlighter-rouge">title</code>. Подтвердите переименование.</li>
  <li>Закройте FBI. Игра установлена</li>
</ol>

<p class="notice--info">Для конвертации формата <code class="language-plaintext highlighter-rouge">cia</code>/<code class="language-plaintext highlighter-rouge">3ds</code> в <code class="language-plaintext highlighter-rouge">cxi</code> (без шифрования для эмулятора Citra) перетяните папку с играми на файл <strong>_citra.bat</strong>.</p>

<p class="notice--warning">Как правило, игра будет говорить о том, что данные сохранений повреждены. Большинство просто удалят повреждённые данные и создадут новые, однако ряд игр, например игры серии Pokemon, требуют удаления повреждённых сейвов вручную. Как удалять сейвы для каждой конкретной игры ищите с инструкции к игре. Например, чтобы удалить сейвы у игр серии Pokemon, нужно запустить игру, а затем зажать и удерживать кнопки <img src="/images/buttons/UP.png" alt="(UP)" /> + <img src="/images/buttons/B.png" alt="(B)" /> + <img src="/images/buttons/X.png" alt="(X)" />, пока игра не запустится и уже в игре согласится на удаление сохранений.</p>

</div></details>

<details class="spoiler"><summary class="spoiler-title">Классический метод установки</summary><div class="spoiler-body">
<h3 id="что-понадобится">Что понадобится</h3>

<p class="notice--info">Если вы купили приставку у меня (в <a href="https://vk.com/nincfw" target="_blank">VK</a> или на <a href="https://shop.customfw.xyz" target="_blank">OLX</a>), то у вас уже b9s со всеми необходимыми программами. Ищите их в папке Система (System).</p>

<ul>
  <li>Установленный и рабочий <a href="updating-b9s" target="_blank">b9s</a> последней версии</li>
  <li>Установленная и рабочая свежая версия <a href="fbi" target="_blank">FBI</a></li>
</ul>

<h3 id="установка-с-sd-карты">Установка с SD-карты</h3>

<ol>
  <li>Вставьте SD-карту в ПК</li>
  <li>Создайте папку <code class="language-plaintext highlighter-rouge">games</code> в корне SD-карты</li>
  <li>Вставьте SD-карту в консоль и включите её</li>
  <li>Запустите FBI</li>
  <li>Перейдите в папку <code class="language-plaintext highlighter-rouge">SD</code></li>
  <li>Перейдите в папку <code class="language-plaintext highlighter-rouge">games</code></li>
  <li>Наведите курсор на необходимую игру и нажмите <img src="/images/buttons/A.png" alt="(A)" /></li>
  <li>Выберите <code class="language-plaintext highlighter-rouge">Install CIA</code> для установки игры, либо <code class="language-plaintext highlighter-rouge">Install and delete</code> для установки и автоматического последующего удаления <code class="language-plaintext highlighter-rouge">.cia-файла</code></li>
  <li>По завершению установки нажмите <img src="/images/buttons/A.png" alt="(A)" /> и закройте FBI</li>
  <li>Установленное приложение появится в меню Home.</li>
</ol>

<p class="notice--info">Можно установить все файлы из папки. Для этого следует выбрать самую верхнюю строку - <code class="language-plaintext highlighter-rouge">\&lt;current directory&gt;</code>, нажать на ней <img src="/images/buttons/A.png" alt="(A)" />, а затем выбрать необходимое действие.</p>

</div></details>

<details class="spoiler"><summary class="spoiler-title">Установка с ПК по беспроводному соединению</summary><div class="spoiler-body">
<p class="notice--info">Можете использовать любой из представленных способов для установки</p>

<h3 id="способ-i---установка-с-помощью-программы-beeshop-рекомендуется">Способ I - Установка с помощью программы beeShop (рекомендуется)</h3>

<p class="notice--warning">Это приложение устанавливает игры с удалённого сервера и не требует их наличия на вашем ПК</p>

<ol>
  <li>Скачайте <a href="https://github.com/manuGMG/beeShop/releases/latest" target="_blank">beeShop</a></li>
  <li>Распакуйте его в удобную папку и запустите <code class="language-plaintext highlighter-rouge">beeShop.exe</code></li>
  <li>На консоли запустите FBI</li>
  <li>Выберите пункт “<strong>Remote Install</strong>”, а затем “<strong>Recive URLs over the network</strong>”</li>
  <li>В <strong>beeShop</strong> нажмите кнопку <strong>Settings</strong> и в открывшемся блокноте введите IP, написанный на нижнем экране приставки.</li>
  <li>Выберите игру из списка в окне программы и нажмите <strong>Bump</strong>, начать скачивать выбранную игру на ПК</li>
  <li>После окончания скачивания на нижнем экране 3DS должны появиться две кнопки. Нажмите на <img src="/images/buttons/A.png" alt="(A)" /> для подтверждения установки.
    <ul>
      <li>Если кнопки не появились, убедитесь, что в программе указан верный IP и нажмите кнопку “<strong>Bump</strong>”. Может понадобится несколько попыток</li>
    </ul>
  </li>
</ol>

<h3 id="способ-ii---установка-с-помощью-qr-кода">Способ II - Установка с помощью QR-кода</h3>

<p class="notice--info">Если у вас нет указанных пунктов, обновите FBI! Для этого воспользуйтесь пунктом “Update” в его меню. В случае, если FBI у вас установлен с помощью инъекции в приложение “<strong>Информация о здоровье и безопасности</strong>” (Health &amp; Safety), то при обновлении его иконка дублируется. Для того, чтобы этого избежать, восстановите приложение <a href="https://3ds.customfw.xyz/godmode9-usage#восстановление-приложения-информация-о-здоровье-и-безопасности" target="_blank">“Информация о здоровье и безопасности”</a></p>

<ol>
  <li>Запустите FBI</li>
  <li>Выберите пункт “<strong>Remote Install</strong>”, а затем “<strong>Scan QR code</strong>”</li>
  <li>Отсканируйте необходимый QR-код</li>
</ol>

<h3 id="способ-iii---установка-с-помощью-программы-fbi-server">Способ III - Установка с помощью программы FBI Server</h3>

<ol>
  <li>Запустите FBI</li>
  <li>Выберите пункт “<strong>Remote Install</strong>”, а затем “<strong>Recive URLs over the network</strong>”</li>
  <li>Запускаем <a href="https://github.com/DD2XAlpha/PC_FBIServer/releases/latest" target="_blank">FBI Server</a>.exe</li>
  <li>В графе <strong>3DS IP Adress</strong> введите IP, написанный на нижнем экране приставки.</li>
  <li>Убедитесь, что в графе “<strong>Computer IP Adress</strong>” указан именно ваш локальный IP (обратитесь в <a href="http://bfy.tw/D0PN" target="_blank">Google</a>, если не знаете как его узнать)</li>
  <li>Выберите CIA нажав на кнопку “<strong>Select single CIA file</strong>”, или на “<strong>Select folder for Queuing</strong>” для выбора папки с файлами</li>
  <li>Нажмите на кнопку “<strong>Start</strong>”</li>
  <li>На нижнем экране 3DS должны появиться две кнопки. Нажмите на <img src="/images/buttons/A.png" alt="(A)" /> для подтверждения установки.
    <ul>
      <li>Если кнопки не появились, убедитесь, что в программе стоит верный IP и нажмите кнопку “<strong>Start</strong>”. Может понадобится несколько попыток</li>
    </ul>
  </li>
</ol>

<p class="notice--info">Важно понимать, что скорость установки программ таким способом не очень высокая и ограничивается примерно 500KBps для old3ds и 1.5Mbps для New.</p>

<h3 id="способ-iv---установка-с-помощью-пк-и-qr-кода">Способ IV - Установка с помощью ПК и QR-кода</h3>

<ol>
  <li>Скачайте <a href="files/nginx_qr_cia_install_standalone.zip" target="_blank">архив</a> со скриптом</li>
  <li>Распакуйте его в удобную папку и запустите <code class="language-plaintext highlighter-rouge">create_CIA_dir.bat</code>
    <ul>
      <li>Cкрипт создаст папку <code class="language-plaintext highlighter-rouge">D:/3ds/cia</code></li>
    </ul>
  </li>
  <li>Запустите сервер ngnix, запустив <code class="language-plaintext highlighter-rouge">start.bat</code></li>
  <li>Поместите игры в формате <code class="language-plaintext highlighter-rouge">.cia</code> или <code class="language-plaintext highlighter-rouge">%папка%/*.cia</code> (несколько ромов например dlc, update и т.д.) в <code class="language-plaintext highlighter-rouge">D:/3ds/cia</code>
    <ul>
      <li>файлы с японскими названиями скриптом не отображаются</li>
      <li>кириллица автоматический меняются на транслит</li>
    </ul>
  </li>
  <li>Заходим в браузере по ip-адресу вашего ПК (написан в самом верху окна ngnix (start.bat) или пишем в командной строке <code class="language-plaintext highlighter-rouge">ipconfig</code> в строке “IPv4-адрес” ваш ip)</li>
  <li>На консоли запустите FBI</li>
  <li>Выберите пункт “<strong>Remote Install</strong>”, а затем “<strong>Scan QR code</strong>”</li>
  <li>Отсканируйте необходимый QR-код</li>
</ol>

</div></details>

:ET