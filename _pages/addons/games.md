---
title: Установка приложений
permalink: /games.html
author_profile: true
---

{% include toc title="Разделы" %}

## Теоретическая часть 

Установка игры - это перешифровка архива (cia) с игрой с помощью уникального для каждой консоли ключа (movable.sed) и запись его в определённом виде на карту памяти. В процессе установки помимо перешифровки создаются так же записи в базу данных консоли. Весь этот процесс происходит на самой приставке. Так как мощность приставки семейства 3DS не очень большая, а так же потому что в процессе установки происходит чтение с карты памяти и одновременно запись на неё, скорость установки редко превышает 3Мб\с. Что **очень** медленно. Гигабайтная игра будет устанавливаться примерно 10 минут на new 3DS XL, на old 3DS - около 15. Это значит, что для того, чтобы забить играми карту в 32Гб нам понадобится примерно 5 часов, которые уйдут на установку игр. Так же следует помнить, что установочные файлы игры, как правило, находятся на карте памяти и занимают место. То есть, чтобы установить игру размером в 4Гб, вам нужно скопировать её установщик на карту памяти и иметь еще 4Гб свободного места. Устанавливать, конечно, можно и по WiFi, что избавит от необходимости держать файл установки на карте памяти, однако, выигрыш в скорости если и будет, то очень скромный, поскольку перешифровка данных всё равно будет происходить силами системы. Метод, использующий силы консоли для перешифроки программы, мы назовём **классическим**. 

Очевидное решение, позволяющее избавиться от недостатков классического метода - использовать ПК для перешифровки. С помощью специального ПО и ключа (movable.sed), извлечённого из прошитой консоли, мы заранее перешифровываем содержимое архива с игрой и просто копируем его в нужные папки на карте памяти приставки. И играем. Установка одного гигабайта занимает около 2х минут. То есть карту в 32Гб мы полностью забьём минут за 15. Причём, половину времени будет занимать копирование игры на карту памяти. На деле всё немного сложнее, но лишь на самую малость. Такой метод установки мы будем называть **быстрым**.

В данный момент установка быстрым методом не поддерживает установку DLC. Так же нет большого смысла использовать этот метод для установки игр размером менее 100Мб (они и так устанавливаются достаточно быстро).

{% spoiler Где брать игры?  %}

На приставку можно установить игры только в формате `.cia`. Игры в других фарматах нужно предварительно сконвертировать. 

1. [В нашем облаке](https://drive.google.com/drive/folders/1FgyciKVc-k2ar8gS6oZjNKYAhmxwFg5R?usp=sharing){:target="_blank"}
1. [В хранилище AlVro](https://docs.google.com/spreadsheets/d/e/2PACX-1vSSmcqtzUguH-tlJ2sr6_v5rTwnlZI1wlsjnyH3Zyy4VKo-TbkHFuW_m3FjpTc3ApQxAL13lOWY9gkm/pubhtml#){:target="_blank"}
1. [В облаке на YD](https://yadi.sk/d/_wdQkl2lZIha4g){:target="_blank"}
1. [3dscia](http://www.3dscia.to/){:target="_blank"}
1. [ziperto.com](https://www.ziperto.com/nintendo/3ds-roms/3ds-cia/){:target="_blank"}
1. [recoleccionjuegos3ds.blogspot.com](http://recoleccionjuegos3ds.blogspot.com){:target="_blank"}
1. [nintendo.moy.su](http://nintendo.moy.su/){:target="_blank"}
1. [Конвертировать .3DS-ромы в .CIA](godmode9-usage#%D0%BA%D0%BE%D0%BD%D0%B2%D0%B5%D1%80%D1%82%D0%B0%D1%86%D0%B8%D1%8F-%D0%B8%D0%B7-3ds-%D0%B2-cia){:target="_blank"}

{% endspoiler %}

## Установка приложений

{% spoiler Быстрый метод установки %}

Для перешифровки игр необходима OC Windows
{: .notice--warning}

{% include youtube.html id="sXKvf-ymrXI" %}{: style="max-width: 500px"}

### Что понадобится

{% include /inc/olx_vk.txt %}
{: .notice--info}

* Установленный и рабочий [b9s](updating-b9s){:target="_blank"} последней версии 
* Установленная и рабочая свежая версия [FBI](fbi){:target="_blank"}
* Свежая версия [QuickSetup](https://github.com/BpyH64/QuickSetup_3DS/releases/latest){:target="_blank"}

### Часть I - Подготовительные работы

Эту часть необходимо сделать всего раз, в дальнейшем установку начинайте со второй части
{: .notice--info}

{% include inc/launch_godmode9.txt console="" %}
1. Перейдите в "**[1:] SYSNAND CTRNAND**" -> "**private**"
1. Поставьте курсор на `movable.sed` и нажмите {% include inc/btn.txt btn="A" %}
1. Выберите "**Copy to 0:/gm9/out**" и нажмите {% include inc/btn.txt btn="A" %}. Нажмите {% include inc/btn.txt btn="A" %} ещё раз
1. Зажмите {% include inc/btn.txt btn="R" %} и нажмите {% include inc/btn.txt btn="START" %}, чтобы выключить приставку 
1. Вставьте в ПК SD-карту приставки
1. Распакуйте `QuickSetup.7z` на ПК
2. Запустите командную стоку и введите в неё `pip install pycryptodome`
1. Переместите файл `movable.sed`, который находится на карте памяти приставки по адресу `/gm9/out` в папку `QuickSetup`

### Часть II - Конвертация игр

1. Поместите игры в формате `cia`/`3ds`/`cxi` (без шифрования), которые хотите установить, в папку `games` или в любую другую удобную для вас папку
1. Перетяните папку с играми на файл `_install.bat`
	* Либо конвертируйте по одной, просто перетягивая по одной игре на `_install.bat`
1. Ждите окончания процесса. По завершению создается папка `id1` которая будет содержать все необходимые файлы для вашей консоли.
1. Перейдите в папку `id1` и скопируйте её содержимое на SD карту консоли по пути `Nintendo 3DS/id0/id1/`. Если потребуется, согласитесь на замену
	* id0 и id1 - папки с длинным названием, состоящим из 16-ти символов
1. Вставить SD карту в консоль и запустить FBI. Перейдите по пути `SD:/Nintendo 3DS/id0/id1/`
1. Перейдите в папку `title`, установите курсор на **\<current directory>**, выберите "**Rename**" и измените название папки на `title0`. Установите все `cia-`файлы, находящиеся в этой папке.
1. После установки всех `cia` нажмите кнопку {% include inc/btn.txt btn="X" %} (Refresh). Появится папка `title`, перейдите в неё, установите курсор на **\<current directory>**, выберите "**Delete**" и подтвердите удаление
1. Перейдите в папку `title0`, установите курсор на **\<current directory>**, выберите "**Rename**" и измените название папки на `title`. Подтвердите переименование.
1. Закройте FBI. Игра установлена

Для конвертации формата `cia`/`3ds` в `cxi` (без шифрования для эмулятора Citra) перетяните папку с играми на файл **_citra.bat**.
{: .notice--info}

Как правило, игра будет говорить о том, что данные сохранений повреждены. Большинство просто удалят повреждённые данные и создадут новые, однако ряд игр, например игры серии Pokemon, требуют удаления повреждённых сейвов вручную. Как удалять сейвы для каждой конкретной игры ищите с инструкции к игре. Например, чтобы удалить сейвы у игр серии Pokemon, нужно запустить игру, а затем зажать и удерживать кнопки {% include inc/btn.txt btn="UP" %} + {% include inc/btn.txt btn="B" %} + {% include inc/btn.txt btn="X" %}, пока игра не запустится и уже в игре согласится на удаление сохранений. 
{: .notice--warning}

{% endspoiler %}

{% spoiler Классический метод установки  %}

### Что понадобится

{% include /inc/olx_vk.txt %}
{: .notice--info}

* Установленный и рабочий [b9s](updating-b9s){:target="_blank"} последней версии 
* Установленная и рабочая свежая версия [FBI](fbi){:target="_blank"}

### Установка с SD-карты

1. Вставьте SD-карту в ПК
1. Создайте папку `games` в корне SD-карты
1. Вставьте SD-карту в консоль и включите её
1. Запустите FBI
1. Перейдите в папку `SD`
1. Перейдите в папку `games`
1. Наведите курсор на необходимую игру и нажмите {% include inc/btn.txt btn="A" %}
1. Выберите `Install CIA` для установки игры, либо `Install and delete` для установки и автоматического последующего удаления `.cia-файла`
1. По завершению установки нажмите {% include inc/btn.txt btn="A" %} и закройте FBI 
1. Установленное приложение появится в меню Home. 

Можно установить все файлы из папки. Для этого следует выбрать самую верхнюю строку - `\<current directory>`, нажать на ней {% include inc/btn.txt btn="A" %}, а затем выбрать необходимое действие. 
{: .notice--info}

{% endspoiler %}

{% spoiler Установка с ПК по беспроводному соединению %}

Можете использовать любой из представленных способов для установки
{: .notice--info}

### Способ I - Установка с помощью программы beeShop (рекомендуется)

Это приложение устанавливает игры с удалённого сервера и не требует их наличия на вашем ПК
{: .notice--warning}

1. Скачайте [beeShop](https://github.com/manuGMG/beeShop/releases/latest){:target="_blank"}
1. Распакуйте его в удобную папку и запустите `beeShop.exe`
1. На консоли запустите FBI
1. Выберите пункт "**Remote Install**", а затем "**Recive URLs over the network**" 
1. В **beeShop** нажмите кнопку **Settings** и в открывшемся блокноте введите IP, написанный на нижнем экране приставки. 
1. Выберите игру из списка в окне программы и нажмите **Bump**, начать скачивать выбранную игру на ПК
1. После окончания скачивания на нижнем экране 3DS должны появиться две кнопки. Нажмите на {% include inc/btn.txt btn="A" %} для подтверждения установки. 
  + Если кнопки не появились, убедитесь, что в программе указан верный IP и нажмите кнопку "**Bump**". Может понадобится несколько попыток

### Способ II - Установка с помощью QR-кода 

Если у вас нет указанных пунктов, обновите FBI! Для этого воспользуйтесь пунктом "Update" в его меню. В случае, если FBI у вас установлен с помощью инъекции в приложение "**Информация о здоровье и безопасности**" (Health & Safety), то при обновлении его иконка дублируется. Для того, чтобы этого избежать, восстановите приложение ["Информация о здоровье и безопасности"](https://3ds.customfw.xyz/godmode9-usage#восстановление-приложения-информация-о-здоровье-и-безопасности){:target="_blank"}
{: .notice--info}

1. Запустите FBI
1. Выберите пункт "**Remote Install**", а затем "**Scan QR code**" 
1. Отсканируйте необходимый QR-код 
	
### Способ III - Установка с помощью программы FBI Server

1. Запустите FBI
1. Выберите пункт "**Remote Install**", а затем "**Recive URLs over the network**" 
1. Запускаем [FBI Server](https://github.com/DD2XAlpha/PC_FBIServer/releases/latest){:target="_blank"}.exe
1. В графе **3DS IP Adress** введите IP, написанный на нижнем экране приставки. 
1. Убедитесь, что в графе "**Computer IP Adress**" указан именно ваш локальный IP (обратитесь в [Google](http://bfy.tw/D0PN){:target="_blank"}, если не знаете как его узнать)
1. Выберите CIA нажав на кнопку "**Select single CIA file**", или на "**Select folder for Queuing**" для выбора папки с файлами
1. Нажмите на кнопку "**Start**"
1. На нижнем экране 3DS должны появиться две кнопки. Нажмите на {% include inc/btn.txt btn="A" %} для подтверждения установки. 
  + Если кнопки не появились, убедитесь, что в программе стоит верный IP и нажмите кнопку "**Start**". Может понадобится несколько попыток

Важно понимать, что скорость установки программ таким способом не очень высокая и ограничивается примерно 500KBps для old3ds и 1.5Mbps для New. 
{: .notice--info}

### Способ IV - Установка с помощью ПК и QR-кода

1. Скачайте [архив](files/nginx_qr_cia_install_standalone.zip){:target="_blank"} со скриптом 
1. Распакуйте его в удобную папку и запустите `create_CIA_dir.bat`
	* Cкрипт создаст папку `D:/3ds/cia`
1. Запустите сервер ngnix, запустив `start.bat`
1. Поместите игры в формате `.cia` или `%папка%/*.cia` (несколько ромов например dlc, update и т.д.) в `D:/3ds/cia`
	* файлы с японскими названиями скриптом не отображаются
	* кириллица автоматический меняются на транслит
1. Заходим в браузере по ip-адресу вашего ПК (написан в самом верху окна ngnix (start.bat) или пишем в командной строке `ipconfig` в строке "IPv4-адрес" ваш ip) 
1. На консоли запустите FBI
1. Выберите пункт "**Remote Install**", а затем "**Scan QR code**" 
1. Отсканируйте необходимый QR-код 

{% endspoiler %}

